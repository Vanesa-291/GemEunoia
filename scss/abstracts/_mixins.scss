// ============================================
// MIXINS DE EUNOIA
// Funciones reutilizables para evitar repetición de código
// ============================================

// --------------------------------------------
// LAYOUT MIXINS
// --------------------------------------------

// Mixin para centrar elementos con flexbox
// Uso: @include flex-center;
@use "sass:color";
@use "variables" as *;
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

// --------------------------------------------
// EFECTOS VISUALES
// --------------------------------------------

// Mixin para texto con sombra
// Parámetro: $color (opcional, por defecto negro semi-transparente)
// Uso: @include text-shadow; o @include text-shadow(rgba(255,0,0,0.5));
@mixin text-shadow($color: rgba(0,0,0,0.5)) {
    text-shadow: 2px 2px 4px $color;
}

// Mixin para sombras de caja
// Parámetro: $shadow (opcional, usa variable por defecto)
// Uso: @include box-shadow; o @include box-shadow(0 4px 8px rgba(0,0,0,0.2));
@mixin box-shadow($shadow: $shadow-base) {
    box-shadow: $shadow;
}

// --------------------------------------------
// ANIMACIONES Y TRANSICIONES
// --------------------------------------------

// Mixin para transiciones suaves
// Parámetros: propiedad, duración, timing
// Uso: @include transition; o @include transition(transform, 0.5s, ease-in);
@mixin transition($property: all, $duration: $transition-speed, $timing: ease) {
    transition: $property $duration $timing;
}

// --------------------------------------------
// COMPONENTES
// --------------------------------------------

// Mixin para estilos de botones
// Parámetros: color de fondo, color de texto, padding
// Uso: @include button-style; o @include button-style(#FF5100, #fff, 1rem 2rem);
@mixin button-style($bg-color: $color-accent, $text-color: $color-white, $padding: 0.8rem 2rem) {
    background-color: $bg-color;
    color: $text-color;
    padding: $padding;
    border: none;
    border-radius: $border-radius;
    font-weight: bold;
    cursor: pointer;
    @include transition;
    
    &:hover {
        background-color: color.adjust($bg-color, $lightness: -20%);
        color: $text-color;
        transform: translateY(-2px);
    }
    
    &:active {
        transform: translateY(0);
    }
}

// Mixin para cards (tarjetas)
// Aplica estilos consistentes a todas las tarjetas del sitio
// Uso: @include card-style;
@mixin card-style {
    background-color: #F8F4E8;
    border: $border-width-thin solid $color-primary;
    border-radius: $border-radius-medium;
    @include box-shadow;
    @include transition;
    
    &:hover {
        transform: translateY(-8px);
        box-shadow: $shadow-hover;
    }
}

// --------------------------------------------
// RESPONSIVE DESIGN
// --------------------------------------------

// Mixin para media queries responsive
// Parámetros: mobile, tablet o desktop
// Uso: 
// @include responsive(mobile) {
//     font-size: 14px;
// }
@mixin responsive($breakpoint) {
    @if $breakpoint == mobile {
        @media (max-width: $breakpoint-mobile) {
            @content;
        }
    }
    @else if $breakpoint == tablet {
        @media (max-width: $breakpoint-tablet) {
            @content;
        }
    }
    @else if $breakpoint == desktop {
        @media (min-width: $breakpoint-desktop) {
            @content;
        }
    }
}

// --------------------------------------------
// EFECTOS AVANZADOS
// --------------------------------------------

// Mixin para gradientes lineales
// Parámetros: color inicial, color final, dirección
// Uso: @include gradient(#FF5100, #CD9C8A); o @include gradient(red, blue, to right);
@mixin gradient($start-color, $end-color, $direction: to bottom) {
    background: linear-gradient($direction, $start-color, $end-color);
}

// Mixin para iconos con estilos consistentes
// Parámetros: tamaño, color
// Uso: @include icon-style; o @include icon-style(3rem, #FF5100);
@mixin icon-style($size: 2.5rem, $color: $color-accent) {
    font-size: $size;
    color: $color;
    margin-bottom: $spacing-medium;
}

// --------------------------------------------
// NUEVOS MIXINS ÚTILES
// --------------------------------------------

// Mixin para truncar texto con elipsis
// Parámetro: número de líneas
// Uso: @include text-truncate(2);
@mixin text-truncate($lines: 1) {
    overflow: hidden;
    text-overflow: ellipsis;
    
    @if $lines > 1 {
        display: -webkit-box;
        -webkit-line-clamp: $lines;
        -webkit-box-orient: vertical;
    } @else {
        white-space: nowrap;
    }
}

// Mixin para hover con escala
// Parámetro: escala (por defecto 1.05)
// Uso: @include hover-scale; o @include hover-scale(1.1);
@mixin hover-scale($scale: 1.05) {
    @include transition(transform);
    
    &:hover {
        transform: scale($scale);
    }
}

// Mixin para centrar absoluto
// Centra un elemento con position: absolute
// Uso: @include center-absolute;
@mixin center-absolute {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}